# 时间记录器 - Time Tracker

一个功能完整的时间记录和分析应用，支持用户认证、云端同步和离线使用。

## 功能特性

### 🔐 用户系统
- **用户注册和登录** - 使用邮箱和密码创建账户
- **游客模式** - 无需注册即可使用（仅本地存储）
- **多用户支持** - 不同用户的数据完全隔离

### ☁️ 云端同步
- **实时同步** - 数据自动保存到云端
- **多设备访问** - 在任何设备上访问你的数据
- **离线支持** - 网络断开时继续工作，恢复后自动同步

### ⏱️ 时间记录
- **精确计时** - 开始、暂停、停止功能
- **活动分类** - 工作、学习、运动等预设分类
- **自定义活动** - 添加个人活动类型
- **历史记录** - 查看所有时间记录

### 📊 数据分析
- **今日统计** - 当天的时间分配概览
- **日历视图** - 月度时间记录可视化
- **活动分析** - 各类活动的时间占比

## 快速开始

### 1. 配置Firebase（可选）

如果你想使用云端同步功能，需要配置Firebase：

1. 访问 [Firebase Console](https://console.firebase.google.com/)
2. 创建新项目或选择现有项目
3. 启用 Authentication 和 Firestore Database
4. 在项目设置中获取配置信息
5. 编辑 `firebase-config.js` 文件，替换配置信息：

```javascript
const firebaseConfig = {
    apiKey: "your-actual-api-key",
    authDomain: "your-project.firebaseapp.com",
    projectId: "your-actual-project-id",
    storageBucket: "your-project.appspot.com",
    messagingSenderId: "123456789",
    appId: "your-actual-app-id"
};
```

### 2. 部署应用

#### 本地运行
```bash
# 在项目目录下启动本地服务器
python3 -m http.server 8000
# 或者使用 Node.js
npx serve .
```

#### GitHub Pages 部署
1. 将代码推送到 GitHub 仓库
2. 在仓库设置中启用 GitHub Pages
3. 选择 "GitHub Actions" 作为源
4. 应用会自动部署到 `https://username.github.io/repository-name`

### 3. 开始使用

1. 打开应用
2. 选择登录方式：
   - **注册新账户** - 创建云端账户
   - **登录现有账户** - 使用已有账户
   - **游客模式** - 仅本地使用
3. 开始记录时间！

## 使用指南

### 基本操作

1. **选择活动类型** - 从下拉菜单选择或输入自定义活动
2. **开始计时** - 点击"开始"按钮
3. **暂停/继续** - 需要时可以暂停计时
4. **停止记录** - 完成后点击"停止"保存记录

### 数据管理

- **自动保存** - 所有记录自动保存
- **云端同步** - 登录用户的数据自动同步到云端
- **离线使用** - 网络断开时数据保存在本地，恢复后自动同步
- **数据冲突** - 系统自动处理多设备间的数据冲突

### 查看统计

- **今日统计** - 查看当天各活动的时间分配
- **历史记录** - 浏览所有时间记录
- **日历视图** - 点击日历上的日期查看详细记录

## 技术架构

### 前端技术
- **HTML5** - 语义化标记
- **CSS3** - 现代样式和动画
- **JavaScript ES6+** - 模块化开发
- **Font Awesome** - 图标库

### 后端服务
- **Firebase Authentication** - 用户认证
- **Firestore Database** - 云端数据存储
- **实时同步** - 数据变更实时更新

### 数据存储
- **云端存储** - Firestore 数据库
- **本地存储** - localStorage 备份
- **离线支持** - 本地优先策略

## 数据安全

- **用户隔离** - 每个用户的数据完全独立
- **安全认证** - Firebase 提供企业级安全
- **本地备份** - 数据同时保存在本地和云端
- **隐私保护** - 不收集任何个人敏感信息

## 故障排除

### Firebase 配置问题
- 确保 `firebase-config.js` 中的配置信息正确
- 检查 Firebase 项目的 Authentication 和 Firestore 是否已启用
- 确认域名已添加到 Firebase 授权域名列表

### 同步问题
- 检查网络连接状态
- 查看浏览器控制台的错误信息
- 尝试手动点击同步按钮

### 数据丢失
- 游客模式的数据仅保存在本地浏览器
- 清除浏览器数据会导致游客模式数据丢失
- 建议注册账户以获得云端备份

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 开源协议

MIT License

## 更新日志

### v2.0.0 (当前版本)
- ✨ 新增用户认证系统
- ✨ 新增云端数据同步
- ✨ 新增离线支持
- ✨ 新增多用户数据隔离
- 🐛 修复数据冲突问题
- 💄 优化用户界面

### v1.0.0
- ⏱️ 基础时间记录功能
- 📊 数据统计和可视化
- 📅 日历视图
- 💾 本地数据存储
